1.redis是什么？
redis是内存的数据库，速度很快，多种的数据类型 ，单线程操作原子性，多路费用很快，
使用场景：
热点数据存放，结婚exprie指令来设置过期时间 set  get
限时间的业务比如短信验证码
计数器自带的incrby自增+1，如一个号码可以发多少短信，一个接口限制访问多少次
排行榜问题sortedset有序集合
分布式锁
点赞 好友 set 集合
队列 list push  和list pop指令 lpush

2.redis主从模式 ->可以一主多从，可以保障数据的完整性，可以实现主写，从读。缺点：故障后，无选举机制，无法监控各主从的状态。
3.redis常用命令及场景->set  get  lpush  hmget hmset String List set  zset hsah类型 排行榜 点赞数 队列实战
4.redis客户端 ->Jedis JedisCluster
5.redis持久化->rbd  aof 数据恢复与转移实战
企业里面的redis特点：高可用 高并发
持久化只要是做容灾恢复和数据恢复，RDB主要是大量数据对redis数据周期持久化，AOF主要是写的命令记录日志。通过持久化，可用把东西保存到磁盘。
对比，RDB会存在上一个时间周期的丢失（1秒快照或者5分钟）AOF构建数据应该是最完整
RDB恢复更快点，因为备份的时候是多个文件，每个文件对应一个时刻的数据，缺点：在执行fork进程如果数据量大会造成客户端短暂停服和一个周期内数据丢失
AOF可以保障最多丢失1秒的数据，文件大，后台重写恢复，不影响客户端服务。
AOF保障数据不丢失，RDB做数据冷备份

6.原子性->multi  watch  discard exec命令
发出去的一个指令都是原子性操作，因为是单线程的。

6.redis高可用->分布式存储  重定向 手把手搭建redis集群  动态扩容和缩减集群节点实战
7.redis分布式锁
8.seesion共享锁
实现方式：
cookie方式，就是把用户session信息加密序列化后存到根域名，利用浏览器访问跟域名下的子域名而实现cookie下的session访问，
缺点：收到http协议头信息长度限制，只能存一小部分信息，同时cookie解密过程也需要占用时间和资源，敏感信息有安全隐患。
基于缓存：redis或者memcached，还可以利用expire命令，来设置session过期
session复制：通过tomcat设置集群来配置tomcat配置，每个tomcat需要把自己的session分享出去，同时要监听别的session的变化，如果变化，需要同步。
在100-200台服务器下这种操作很费劲。

9.哨兵核心机制->选举原理  主观下线   客观下线 java与哨兵如何使用  手把搭建spring与redis哨兵模式集群
10.redis为什么使用单线程
因为redis是在内存中，cpu不是瓶颈，多个cpu还会增加线路处理切换的时长

11.redis哨兵模式：支持监控redis主机，主节点发生故障，会自动选举主节点，自动实现恢复。如果是从节点挂了，不能实现节点故障转移
12.单机redis模式：部署简单，但是性能低，而且故障后容易造成数据丢失
13.集群模式：解决了普通单机的内存和高并发下的不足，也解决主节点下线客户端可识别可用的服务节点，部署复杂。





